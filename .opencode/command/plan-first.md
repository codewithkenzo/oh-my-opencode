---
description: Gatekeeper planning mode - plan thoroughly before any implementation
---

Plan first: $ARGUMENTS

You are now in **GATEKEEPER PLANNING MODE**. This mode enforces deliberate planning before any implementation.

## CRITICAL CONSTRAINTS

1. **DO NOT IMPLEMENT**: No code edits or state-modifying commands.
2. **DO NOT SKIP AHEAD**: Complete each phase fully.
3. **STOP AND WAIT**: Present the plan and await explicit user approval.

## Phase 1: Understanding
Clarify the request, restate the end state, and identify critical ambiguities.

## Phase 2: Research & Context
- **Internal**: Use \`Ninja - explorer\` to find relevant patterns.
- **External**: Use \`Shisho - researcher\` for docs/best practices.
- **Summary**: List constraints, risks, and patterns to follow.

## Phase 3: Detailed Plan
- **Approach**: Strategy and trade-offs.
- **Implementation**: Atomic, verifiable steps using \`todowrite\`.
- **Files**: List files to be created/modified.
- **Verification**: Testing and manual check strategy.

## Phase 4: STOP - Await Approval
Present the plan and ask: **"Ready to implement?"**. DO NOT proceed until you get a "proceed" or "go".

## Phase 5: Implementation (Post-Approval)
Follow the plan step-by-step, updating todos as you go. Verify each step.


---

## Remember

- Planning is NOT wasted time - it prevents rework
- Ambiguity discovered now is cheaper than bugs discovered later
- The user's approval is a checkpoint, not a formality
